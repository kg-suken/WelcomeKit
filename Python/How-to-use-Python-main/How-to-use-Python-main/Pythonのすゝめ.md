# Pythonのすゝめ

## 1. Pythonとは？
Pythonは構文が他のプログラミング言語と比べてシンプルで、比較的とっつきやすい言語で、データサイエンス分野やAI分野といった科学技術系の分野を中心に様々なところで使われています。今回はAIを作るわけではありませんが、そのために必要な技術の基盤となる基礎知識を身につけていきます。興味が湧いたら「Python　AI」と調べたら役に立つサイトがたくさん出てきます。なにか質問があればこれの作者まで。

**注意:これはPython未履修者、初学者向けなので簡単な説明しか載せていません。そのため、おかしな箇所や例外等があるかもしれませんがご了承ください。**

## 2. インストール

### Pythonのインストール

1.[Pythonの公式サイト](https://www.python.org/downloads/windows/)にアクセスします。

2.パソコンの「設定」を開き、「システム」に移動して、「システムの種類」が64ビットか32ビットかを確認してください。

3.64ビットの場合は次のページの緑色のところのどちらかをクリックしてダウンロードします。(必要に応じて他のバージョンのものをダウンロードしても構いません。)

32ビットの場合はその一つ下のものをダウンロードします。

![the image of offical site](images/image00.png)

4.ダウンロードしたインストーラを起動し、下のAdd Python x.xx to PATHにチェックしてInstall Nowをクリックします。

5.待てばダウンロードされます。デバイス変更の許可を問われたら許可してください。


### Visual Studio Codeのインストール(任意)

1.公式サイト(https://code.visualstudio.com/download)にアクセスしてwindows用のインストーラをダウンロードします。

2.ダウンロードしたインストーラを起動します。

3.利用規約に同意して「次へ」を押します。「デスクトップ上にアイコンを作成する」ボタンがあればそれにチェックして「次へ」、なければそのまま「次へ」を押します。

4.最後に「インストール」を押すとインストールされます。

5.言語を日本語にします。デスクトップ上にあるVisual Studio Codeを起動し、左側の虫眼鏡マークの3つ下のボタン(四角が4つあるボタン)をクリックしてExtensions Marketplaceの検索欄にjapaneseと入力し、「Japanse Language Pack for Visual Studio Code」をインストールします。

6.完了したら右下の「Change Language and Restart」ボタンをクリックするかアプリを再起動すると言語が日本語になります。

## 3.Pythonの基本知識
ダウンロードお疲れさまでした。さっそく本題に入りましょう。

### 3-1.数値、文字列
Pythonでは、文字列を扱う際には **""** ( **ダブルクォーテーション** ) または **''** ( **クォーテーション** ) でその文字列をくくらなければなりません。しかし、数値を扱う場合は何もつけないで使うことができます。数値も""か''でくくることで文字列として認識させることができます。

### 3-2. 変数、関数

変数とは、数値や文字列などの要素を格納できるものです。数学でやったことある人はあれをイメージしてください。変数を新しく作ることを変数を**定義する**といい、もともとある変数になにかを入れることを**代入する**といいます。以下は変数xに数値の3、appleにりんごという文字列をそれぞれ定義して代入する例です。
```python
x=3
apple='りんご'
```

次は関数です。関数とは、入力(**引数**といいます。)に対し、ある処理を実行して特定の値(数値や文字列、True/Falseなど、**出力**といいます。)を返す(返さないこともあります。)ものです。一般に、関数を実行する際は次のように記述します。

```python
関数名(引数1, 引数2, 引数3, ......)
```

具体的な関数としてprint関数を見てみましょう。この関数は与えられた引数を標準出力と呼ばれる場所に表示する関数です。標準出力は実行結果などが表示される場所、程度の認識で大丈夫です。基本的な構文は

```python
print(出力するもの)
```
です。例えば、「こんにちは」と出力する場合には
```python
print('こんにちは')
```
と書き、
```
こんにちは
```
と出力されます。
関数を作ることもできるのですがそれはまたあとで。

### 3-3. 四則演算(+,-,×,÷)+α

pythonでは、+,-,×,÷等の基本的な計算を演算子を用いて行うことができます。二つの数値a,bに対し、
```python
a+b #足し算
a-b #引き算
a*b #掛け算
a/b #割り算
a%b #a÷bのあまり
a//b #a÷bの切り捨て
a**b #aのb乗

```
です。計算は基本的に左から行い、順序は
カッコ内の計算 > 掛け算,割り算,あまり,aのb乗 > 足し算,引き算
です。たとえば、(12345 + 6789)×247を31で割った余りを出力するプログラムは
```python
print((12345+6789)*247 % 31)
```
で行うことができ、
```python
24
```
と出力されます。練習として電卓を作ってみてもいいかもしれませんね。

また、足し算は文字列に対してもできて、二つの文字列をつなげることができます。以下は文字列pen,pineapple,apple,penをつなげて出力する例です。

```python

print('I have a pen.')

print('I have an apple.')

print('Oh!')

print('Apple' + 'pen')

print('I have a pen.')

print('I have a pineapple.')

print('Oh!')

print('Pineapple' + 'pen')

print('Apple' + 'pen')

print('Pineapple' + 'pen')

print('Oh!')

print('Pen' + 'pineapple' + 'apple' + 'pen')

print('すみませんでした。')

```

出力は
```
I have a pen.
I have an apple.
Oh!
Applepen
I have a pen.
I have a pineapple.
Oh!
Pineapplepen
Applepen
Pineapplepen
Oh!
Penpineappleapplepen
PPAP
```
となります。すみませんでした。
### 3-4 if文

if文は与えられた条件式が正しい(真,True)時と正しくない(偽,False)ときに処理を分けるものです。
基本的な構文は次の通りです。

```python
if 条件式1:
  条件式1が真のときの処理(複数行でもいいよ)
elif 条件式2:
  条件式1が偽で条件式2が真のときの処理(複数行でもいいよ)
else:
  条件式1も2も偽のとき(複数行でもいいよ)
```

>[!TIP]
>Pythonでは空白(**インデント**)の数も重要です。:のあとの行の最初に空白があるのに気づきましたか？これの数が違うとエラーになってしまいます。
>
>この空白はスペースとは少し違い、Tabキーで入力できます。

>[!TIP]
>elifとその処理、elseとその処理、またはそれら両方を省略しても構いません。
>
>・elifの部分を省略してelse以下を残した場合は最初の条件式が満たされなかった場合にはelseの下の処理が実行されます。
>
>・elifを残してelseを省略したときは条件式1が満たされない場合には条件式2を試し、それも満たされない場合は何も実行されません。
>
>・elifもelseも省略した場合は最初の条件式が満たされないと何も実行されません。

>[!TIP]
>二つの数a,bを比べるときは==,<,>,<=,>=を用いることで比較できます。
>
>これらの記号は特定の条件が満たされたときにTrue、そうでなければFalseを返します。
>
>このTrue,Falseはbool型と呼ばれ、数値でも文字列でもない特別なものです。
>
>if文は条件式がTrueを返すかFalseを返すかで条件式の真偽を判定しています。

・a == bは二つの数a,bが等しいときにTrue、そうでないときにFalseを返します。

・a < bはaがbがより小さいときにTrue、そうでないときにFalseを返します。

・a > bはaがbより大きいときにTrue、そうでないときにFalseを返します。

・a <= bはaがb以下のときにTrue、そうでないときにFalseを返します。

・a >= bはaがb以上のときにTrue、そうでないときにFalseを返します。

例えば、nが偶数の時にn is even!、1の時はn is one!、そうではないときはn is odd and not one!と出力するコードは

```python
if n % 2 == 0:
  print('n is even!')
elif n == 1:
  print('n is one!')
else:
  print('n is odd and not one!')
```

となります。

### 3-5. リスト、タプル、辞書

#### リスト
リストは複数個のデータを保存できるもので、変数のデータ数が複数個に対応したようなイメージです。リストは **[]** でくくり、複数個の要素を入れるときは **,** (**カンマ**)で区切ります。リストには数値型、文字列型、bool型など様々な要素(ほかにもあります)を入れることができます。以下は3つの要素 「3,"チョコレート", True」を含んだリストAを定義する例です。
```python
A = [3, "チョコレート", True]
```
ある要素数がnのリストBが存在するとき、リストの**(i+1)**番目(i=**0**, 1, 2, ......, n-1)の要素は **B[i]** とすると取得できます。このiを**インデックス**といいます。たとえば、先ほどのリストAの1番目の要素(インデックスが0の要素)を標準出力に出力するコードは
```python
print(A[0])
```
となり、出力は
```
3
```
>[!TIP]
>pythonでは1から数えるのではなく0から数えることに注意してください。

また、インデックスは非負整数(0以上の整数)ではなく、負の整数(-1,-2など0より小さい整数)にも対応しています。この場合、B[-i] (i=1, 2, 3, ......)はBの要素の後ろから数えてi番目の物を取得できます。次のリストCを定義してこの後ろから3番目を取得して標準出力に出力するコードは

```python
C = [1,2,3,4,5,'Super Delicious Banana!', -10, 20]

print(C[-3])
```

で、出力は

```python
Super Delicious Banana!
```

となります。
リストの中にリストを入れることもできます。このようなリストを**多次元リスト**といいます。以下は典型的な多次元リストの例です。

```python
D = [[3, 5, 3], [1, 0], [-4, -5, 2]]

print(D[1])

```
この出力は
```
[1, 0]
```
となります。つまり、出力がリストになるので、インデックスの指定を二つ続けてやることでリストの中のリストの要素を指定することもできます。
例えば、先ほどのリストを再利用すると

```python
print(D[2][-1])
```
の出力は、3番目のリストの後ろから1番目なので
```
2
```
となります。

リストには要素を追加、削除、変更する機能もあります。リストEに対し、インデックスがiの要素をxに変更する場合は次のようにします。

```python
E[i] = x
```

次に、リストの末尾に要素yを追加する場合は

```python
E.append(y)
```

とし、インデックスがjの要素を削除するには

```python
E.pop(j)
```
とします。この際、実行結果を変数に保存することができ、その場合は削除された要素を取得できます。

#### タプル

先ほどのリストは要素の追加、変更、削除等が可能でしたが、複数人で開発するとき、重要なデータをリストで保存していたら誰かに書き換えられてしまった、となっては大変ですよね。そこで、一度定義したら再度代入することができないリストのようなものが存在します。これを**タプル**といい、リストは**[]**でくくっていたのに対し、タプルは**()**でくくります。

#### 辞書

リストはインデックス番号で要素を指定していましたが、辞書は代わりに文字列で要素を指定できます。この取得するのに使用した文字列を**キー**(**key**)といい、それで得られる要素を**value**といいます。
以下はdicという名前の辞書を定義して要素を取得して出力する例です。

```python
dic = {'apple':'りんご', 'one':1, 'right':True, 'wrong':False}

print(dic['apple'])
```

この出力は

```
りんご
```
となります。これで言うと、keyは:の左側、valueは右側になります。辞書からkeyだけ、valueだけをそれぞれ取得することもできます。以下は先ほどの辞書dicのkey,valueをそれぞれ取得し、出力している例です。

```python
print(dic.keys()) #辞書名.keys()でkeyをすべてリストにまとめて取得できる。
print(dic.values()) #辞書名.values()でvalueをすべてリストにまとめて取得できる。
```

出力は

```
['apple', 'one', 'right', 'worng']
['りんご', 1, True, False]
```

となります。

### 3-6. for文

for文は、リストや範囲内の要素を順番に取り出して繰り返し処理を行うためのものです。for文の基本的な構文は以下の通りです。

```python
for 変数 in 繰り返したいもの(リストなど):
  処理
```

#### 範囲を指定して繰り返す

範囲を指定するには `range()` 関数を使います。`range()` 関数は指定した範囲の整数を順番に生成し、リストで返します。例えば、0から4までの数を順番に出力するコードは次のようになります。

```python
for i in range(5):
    print(i)
```

出力：

```
0
1
2
3
4
```

#### 開始位置や増減を指定する

`range()` は開始位置や増減も指定できます。

```python
for i in range(2, 10, 2):
    print(i)
```

出力：

```
2
4
6
8
```

この例では `range(2, 10, 2)` が 2 から 10 未満まで 2 ずつ増加する数列を生成します。

#### リストの要素を順番に処理する

リストの全ての要素に対して何か処理をしたいときにも for文が使えます。

```python
fruits = ['apple', 'banana', 'cherry']
for fruit in fruits:
    print(fruit)
```

出力：

```
apple
banana
cherry
```

>[!TIP]
>for文では変数名は自由に決められます。`i` や `fruit` のように、その場に適した名前を付けるとコードが読みやすくなります。


### 3-7. while文

while文は、指定した条件が **True** の間、繰り返し処理を行います。

基本的な構文は以下の通りです。

```python
while 条件式:
    処理
```

例えば、1から5までの数を順番に出力するコードは次のようになります。

```python
n = 1
while n <= 5:
    print(n)
    n += 1
```

出力：

```
1
2
3
4
5
```

>[!TIP]
> `n += 1` は `n = n + 1` の省略形です。

#### 無限ループ

条件が常にTrueの場合、プログラムは永久に繰り返し続けます。これを **無限ループ** と呼びます。無限ループは間違って使うとプログラムが停止しなくなることがあるので注意してください。

```python
while True:
    print('これは無限ループです！')
```

プログラムを停止したい場合は、Ctrl + C を押して中断できます。

#### 条件を使ったループの終了

特定の条件でループを抜けたい場合は `break` を使います。

```python
n = 1
while True:
    print(n)
    if n == 5:
        break
    n += 1
```

出力：

```
1
2
3
4
5
```

また、`continue` を使うことで特定の条件に合致した際に処理をスキップし、次のループに進むことができます。

```python
for i in range(10):
    if i % 2 == 0:
        continue
    print(i)
```

出力：

```
1
3
5
7
9
```

偶数のとき `continue` が実行され、print文がスキップされています。


### 3-8. input関数

input関数はユーザーから標準入力(標準出力の書き込む版)で入力を受け取るために使います。input関数は引数を1つとり、それに質問文を書くことができ、実行すると実行されたときに質問文が出力され、ユーザーは何を書けばいいかわかりやすくなります。以下はユーザーに名前を聞き、それを使って挨拶するコードの例です。

```python
name = input('あなたの名前はなんですか？:')
print(name + 'さん、はじめまして！')
```
実行すると
```
あなたの名前はなんですか？:
```
と出力されるので、入力を
```
すーけん
```
とすると、
```
すーけんさん、はじめまして！
```

となります。質問文は省略することもできます。その場合は最初に特に文章は表示されません。

### 3-9. 関数の定義

ようやく最後です。3-2で関数の定義ができると言っていましたのでそれをやってみましょう。関数の定義は次のようにやります。

```python
def 関数名(引数1, 引数2, 引数3, ......):
  関数の処理(複数行でもいいよ)
```

なにか関数に値(**戻り値**)を返させたい場合は関数の処理の最後に**return**を付けます。その場合の構文は

```python
def 関数名(引数1, 引数2, 引数3, ......):
  関数の処理(複数行でもいいよ)
  return 戻り値(なんでもいい:リスト、文字列、数値など、なんならなくてもいい。)
```

例えば、与えられた二つの数を足し算する関数を作る場合は

```python
def sum_two_nums(a, b)
  return a + b
```
となります。実行方法は一般的な関数と同じで、たとえば23と45を足してそれを変数xに保存、出力させるには

```python
x = sum_twp_nums(23, 45)
print(x)
```
となり、出力は
```
68
```
となります。


## 5.チャットBotもどきを作ろう

基本知識の学習お疲れさまでした。さて、最初にPythonはAIに使われているといったのを覚えていますか？せっかくなので決まった質問に返答してくれる対話型AIもど
き(AIではない)を作ってみましょう。

今回作るものは完成品を別ファイルに入れてあるのでまずはどんな感じか試してみてください。

さて、これの原理を簡単に説明します。

・辞書を使ってキーワードとBotの返答を結びつける

・input関数でユーザーの発言を取得

・発言の中にキーワードがあればそれに対応する返答を返す

・なければ「すみません、よくわかりません。」とはぐらかす

こんなかんじです。

最初の2行でキーワードと返答の辞書を作っています。

```python
keywords={'こんにちは':'こんにちは！調子はどうですか？, '天気':'天気ですか？よくわからないけど晴れているといいですね！','おはよう':'おはようございます！','こんばんは':'こんばんは！'月は見えますか？','いい':'それは素晴らしいですね！','よくない':'あらら','はい':'いいですね！','いいえ':'そうですか！'}
```

これが与えられたユーザーの発言の中からキーワードがあるか探し出す関数です。

```python
def check_words(text):
  for word in keywords.keys():
    if word in text:
      return keywords[word]

  return 'すみません、よくわかりません。'
```

if文の中にinというよくわからないものがあるので解説します。

```python
A in B
```
これはB(リスト、文字列、タプルなど)にAという要素が入っているか否か、という条件式を表します。入っている場合はTrue、そうでない場合はFalseを返します。

つまり、この関数の処理は

キーワードを順番に取り出して
```python
for word in keywords.keys():
```

キーワードがユーザーの発言の中に含まれていたらそれに対応する文章を返す

```python
if word in text:
  return keywords[word]
```

どれにも当てはまらなかったらはぐらかす

```python
return 'すみません、よくわかりません。'
```

という感じです。

最後に無限ループで質問して返答を関数に入れて返せば完成です。
```python
while True:
  text = input('お話ししましょう！:')
  print(check_words(text))
```

ぜひ自分の環境で作ってみて、キーワードとそれに対応する文章を増やしたり、システムをいじったりしてみてください！何か面白いものができたらこれの作者に見せてくれると喜びます。

## 6.ChatGPTを正しく使おう

いろいろ説明してきましたが、これらをすべて覚えなければいけない、というわけではありません。なんとなくこういう関数があるんだー程度になっていればそれを実装するってなったときに存在を知っていればインターネットで調べるだけで出てきます。なんなら極論それを知らなくてもChatGPTにこんなコード書いてーって投げればコードは書いてくれます。しかし、コーディングにはバグはつきものです。生成してもらったものにバグがあったときにどこにバグがあるのか、なぜバグが起きるのかを理解できなければChatGPTにバグを直してもらうことも困難になります。ですから必要最低限の知識は抑えて、ChatGPTに丸投げするのではなく部分的な使用程度にとどめる、丸投げするなら出力されたコードをチェックすることが大切です。

## 7.おわりに

だいぶ長くなってしまいましたが一応これでおしまいです。どうでしたか？今回紹介しきれていないものが山ほどあるので、興味がわいた方はぜひ調べてみてくださいね。一応練習問題的な何かを作ったので腕試し程度でやってみてください。それではお疲れさまでした。皆さんがPythonを好きになることを心から願っております。
